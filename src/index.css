@import "./theme.css";

/* ============================
   Resets & Typography
   ============================ */
*,
::before,
::after {
    padding: 0;
    margin: 0;
    box-sizing: border-box;
}

#root,
html,
body {
    width: 100%;
    height: 100%;
}

html {
    scroll-behavior: smooth !important;
}

body {
    background: var(--bg);
    color: var(--text);
    line-height: 2.1;
    font-size: 13px;
    font-family: Verdana, Geneva, Tahoma, sans-serif;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    font-family: "Antonio", sans-serif;
    font-size: 20px;
}

/* Calendar icon readable on dark (system + manual) */
@media (prefers-color-scheme: dark) {
    input[type="date"]::-webkit-calendar-picker-indicator,
    input[type="datetime-local"]::-webkit-calendar-picker-indicator {
        filter: invert(1);
    }
}
html[data-theme="dark"] input[type="date"]::-webkit-calendar-picker-indicator,
html[data-theme="dark"]
    input[type="datetime-local"]::-webkit-calendar-picker-indicator {
    filter: invert(1);
}

/* ============================
   Brand-first utilities (Blue-dominant; neutrals are pure B/W)
   ============================ */

/* Links */
a {
    color: var(--link);
    text-decoration: none;
}
a:hover {
    color: var(--link-hover);
    text-decoration: underline;
}

/* Selection */
::selection {
    background: rgb(var(--primary-rgb) / 0.25);
    color: var(--primary-contrast);
}

/* Headings subtle brand underline */
h1,
h2 {
    letter-spacing: 0.3px;
    background: linear-gradient(
        0deg,
        transparent 0 88%,
        rgb(var(--primary-rgb) / 0.22) 88% 100%
    );
}

/* Buttons */
.btn-primary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 8px 14px;
    border-radius: var(--radius-md);
    border: 1px solid var(--primary-600);
    background: var(--primary);
    color: var(--primary-contrast);
    box-shadow: var(--shadow-sm);
    cursor: pointer;
    transition: transform 0.06s ease, box-shadow 0.2s ease, background 0.2s ease;
}
.btn-primary:hover {
    background: var(--primary-600);
}
.btn-primary:active {
    transform: translateY(1px);
}
.btn-primary:focus-visible {
    outline: var(--focus-ring);
}
.btn-ghost {
    background: rgb(var(--primary-rgb) / 0.06);
    color: var(--text);
    border: 1px solid rgb(var(--primary-rgb) / 0.18);
}
.btn-ghost:hover {
    background: rgb(var(--primary-rgb) / 0.12);
}

/* Forms (base) */
input,
select,
textarea {
    border: 1px solid var(--border);
    background: var(--card);
    color: var(--text);
    border-radius: var(--radius-md);
    padding: 8px 10px;
}
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
    outline: var(--focus-ring);
}

/* ===== Native <select> popup color normalization =====
   Many engines paint the dropdown (option list) with OS defaults.
   These rules unify it with our theme in both light/dark (system + manual). */
select {
    background: var(--card);
    color: var(--text);
    border-color: var(--border);
}
select option {
    background: var(--card);
    color: var(--text);
}
select option:checked,
select option:focus,
select option:hover {
    background: rgb(var(--primary-rgb) / 0.18);
    color: var(--text);
}

/* System dark fallback for engines that ignore CSS vars inside popups */
@media (prefers-color-scheme: dark) {
    select,
    select option {
        background-color: #000;
        color: #fff;
    }
}
/* Manual theme override fallback */
html[data-theme="dark"] select,
html[data-theme="dark"] select option {
    background-color: #000;
    color: #fff;
}

/* Optional nicer arrow while keeping native behavior.
   Add className="selectLike" to your <select>. */
.selectLike {
    appearance: none;
    background: linear-gradient(transparent, transparent) padding-box,
        url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' fill='none' stroke='%23aab' stroke-width='2' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E")
            no-repeat right 10px center / 14px 14px;
    padding-right: 34px; /* room for arrow */
}

/* Chips / Tags */
.chip {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 2px 8px;
    border-radius: 999px;
    background: rgb(var(--primary-rgb) / 0.08);
    border: 1px solid rgb(var(--primary-rgb) / 0.18);
    color: var(--text);
}

/* Cards */
.card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
}
.card.brandish {
    background: var(--surface-brand-1);
}

/* Icon button */
.iconBtn {
    display: grid;
    place-items: center;
    width: 36px;
    height: 36px;
    border: 1px solid var(--border);
    background: var(--card);
    color: var(--text);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
    cursor: pointer;
}
.iconBtn:focus-visible {
    outline: var(--focus-ring);
}

/* Tables */
table {
    width: 100%;
    border-collapse: collapse;
}
table thead th {
    text-align: left;
    background: rgb(var(--primary-rgb) / 0.06);
    border-bottom: 1px solid rgb(var(--primary-rgb) / 0.22);
    padding: 10px;
}
table tbody td {
    border-bottom: 1px solid var(--border);
    padding: 10px;
}

/* Scrollbars (WebKit) */
*::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}
*::-webkit-scrollbar-thumb {
    background: rgb(var(--primary-rgb) / 0.4);
    border-radius: 8px;
    border: 2px solid transparent;
    background-clip: padding-box;
}
*::-webkit-scrollbar-thumb:hover {
    background: rgb(var(--primary-rgb) / 0.55);
}
